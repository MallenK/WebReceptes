<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Recetas de Sergi y Gina</title>
  <meta name="description" content="Recetario de Sergi y Gina. Búsqueda, filtros, favoritos y añadir recetas. 100% estática para GitHub Pages.">
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;600;800&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="assets/css/styles.css">
</head>
<body>
  <div class="container">
    <header class="topbar">
  <div class="title">
    <div class="logo" aria-hidden="true"></div>
    <div>
      <h1>Recetas de Sergi y Gina</h1>
      <div class="sub">Búsqueda, filtros, favoritos y edición local.</div>
    </div>
  </div>

  <!-- Botón hamburguesa en móvil -->
  <button id="menuToggle" class="menu-toggle" aria-label="Abrir menú" aria-expanded="false" aria-controls="mainNav">
    ☰
  </button>
</header>

    <!-- Panel de navegación: acciones + filtros -->
    <nav id="mainNav" class="nav-panel" hidden>
      <div class="actions">
        <button id="exportBtn" class="btn">Exportar JSON</button>
        <label class="btn" for="importFile">Importar JSON</label>
        <input id="importFile" type="file" accept="application/json" hidden>
        <button id="resetBtn" class="btn" title="Borra recetas añadidas por ti (no las de ejemplo)">Resetear añadidas</button>
        <a class="btn primary" href="#" id="ghHint">Guía GitHub Pages</a>
      </div>
    
      <section class="controls" aria-label="Controles de búsqueda y filtrado">
        <input id="q" type="search" placeholder="Buscar por nombre o ingrediente" aria-label="Buscar">
        <select id="cat">
          <option value="">Todas las categorías</option>
          <option>Pastas</option><option>Carnes</option><option>Vegetariano</option>
          <option>Postres</option><option>Desayunos</option>
        </select>
        <select id="diff">
          <option value="">Dificultad</option>
          <option>Fácil</option><option>Media</option><option>Difícil</option>
        </select>
        <label class="fav-toggle pill"><input id="onlyFav" type="checkbox"> Solo favoritos</label>
      </section>
    </nav>


    <section class="controls" aria-label="Controles de búsqueda y filtrado">
      <input id="q" type="search" placeholder="Buscar por nombre o ingrediente" aria-label="Buscar">
      <select id="cat">
        <option value="">Todas las categorías</option>
        <option>Pastas</option>
        <option>Carnes</option>
        <option>Vegetariano</option>
        <option>Postres</option>
        <option>Desayunos</option>
      </select>
      <select id="diff">
        <option value="">Dificultad</option>
        <option>Fácil</option>
        <option>Media</option>
        <option>Difícil</option>
      </select>
      <label class="fav-toggle pill"><input id="onlyFav" type="checkbox"> Solo favoritos</label>
    </section>

    <details class="add">
      <summary>➕ Añadir receta (se guarda en tu navegador)</summary>
      <form id="addForm" class="form-grid" autocomplete="off">
        <input name="title" placeholder="Título" required>
        <input name="image" placeholder="URL de imagen (opcional)">
        <input name="category" placeholder="Categoría" list="cats">
        <datalist id="cats"><option>Pastas</option><option>Carnes</option><option>Vegetariano</option><option>Postres</option><option>Desayunos</option></datalist>
        <select name="difficulty">
          <option value="Fácil">Fácil</option>
          <option value="Media">Media</option>
          <option value="Difícil">Difícil</option>
        </select>
        <input name="time" placeholder="Minutos aprox" type="number" min="1">
        <input name="tags" placeholder="Tags separadas por coma (ej: rápido, horno)">
        <textarea name="ingredients" placeholder="Ingredientes, uno por línea" required></textarea>
        <textarea name="steps" placeholder="Pasos, uno por párrafo" required></textarea>
        <button class="btn primary" type="submit">Guardar</button>
      </form>
    </details>

    <section id="grid" class="grid" aria-live="polite"></section>

    <footer>
      Hecha con HTML, CSS y JS puros. Datos de usuario en <code>localStorage</code>. Copia este archivo como <code>index.html</code> y súbelo a GitHub Pages.
    </footer>
  </div>

  <!-- Modal receta -->
  <dialog id="recipeModal" aria-labelledby="mTitle">
    <div class="modal-header">
      <h3 id="mTitle" style="margin:0"></h3>
      <button class="x" aria-label="Cerrar" onclick="modal.close()">✕</button>
    </div>
    <div class="modal-body">
      <div class="cols">
        <div>
          <img id="mImg" class="thumb" alt="Imagen de la receta">
          <div class="row">
            <span class="pill" id="mCat"></span>
            <span class="pill" id="mDiff"></span>
            <span class="pill" id="mTime"></span>
          </div>
          <div class="tags" id="mTags"></div>
        </div>
        <div>
          <h4>Ingredientes</h4>
          <ul id="mIngs" class="muted"></ul>
          <h4>Pasos</h4>
          <ol id="mSteps" class="muted"></ol>
        </div>
      </div>
    </div>
  </dialog>

  <script defer src="assets/js/app.js"></script>
</body>
</html>
